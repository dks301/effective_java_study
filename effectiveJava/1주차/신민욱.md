# 2 장 객체 생성과 파괴


- 객체를 만들어야 할 때 / 만들지 말아야 할 때
- 올바른 객체 생성 방법 / 불필요한 생성을 피하는 방법
- 제때 파괴됨을 보장하고 파괴 전 수행해야할 작업을 관리하는 요령

<br><br>

------------------------
## 1. 생성자 대신 정적 팩터리 메서드를 고려할 것
- 클래스의 인스턴스를 반환하는 단순한 정적 메서드
<br>
<br>

**장점** (better than *생성자*)<br>
1. <span style="color:blue"> 이름을 가질 수 있다. </span> <br>

  String    | Biginteger       | Optional
  --------- | ---------------- | ------------- 
  valueOf() | probablePrime()  | of()
  format()  | valueOf()        | ofNullable()
  join()    |                  | empty()

<details>
<summary> 참고 자료 </summary>
  <div markdown="1">
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" target="_blank">String</a>
  </div>
  <div markdown="2">
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html" target="_blank">BigInteger</a>
  </div>
  <div markdown="3">
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html" target="_blank">Optional</a>
  </div>
</details>

<br>
  
  but, 생성자는 객체를 생성하는 경우 해당 class 이름으로 제한됨.

  - String str = new String();
  - 생성자만을 이용해서 많은 기능을 표현하기엔 한계가 존재
  - 위와 같이 정적 팩터리 메서드는 이름을 통해 반환될 객체의 특성을 묘사하기 쉬움
<br>
<br>

2. 호출될 때마다 인스턴스를 새로 생성하지 않아도 된다. <br>
  정적 팩터리 메서드는 객체 호출 시 매번 같은 인스턴스를 리턴한다.
  - 상수화와 같이 단 하나의 인스턴스를 보장
  - 또는 새로 생성한 인스턴스를 캐싱해 재활용하는 방식
  - Singleton scope와 같은 개념
  - valueOf()는 아예 객체를 생성하지 않음

즉, 불필요한 객체를 생성하지 않기 때문에 성능상의 이점을 가짐

<br>
<br>

3. 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다. <br>
  반환한 객체의 클래스를 자유롭게 선택할 수 있는 **유연성** 제공
- 
